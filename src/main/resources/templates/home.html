<!DOCTYPE html>
<html lang="pt-br"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <title>Dashboard - GS Synapse</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body>
<!-- ===================== CARDS DE ESTATÃSTICAS ===================== -->
<div class="dashboard-stats">
    <div class="stats-container">
        <div class="stat-card">
            <div class="stat-icon">ğŸ’¼</div>
            <div class="stat-info">
                <h3>CompetÃªncias</h3>
                <span class="stat-number" th:text="${totalCompetencias ?: '0'}">0</span>
                <span class="stat-label">Cadastradas</span>
            </div>
        </div>

        <div class="stat-card">
            <div class="stat-icon">ğŸ“‹</div>
            <div class="stat-info">
                <h3>RecomendaÃ§Ãµes</h3>
                <span class="stat-number" th:text="${totalRecomendacoes ?: '0'}">0</span>
                <span class="stat-label">Realizadas</span>
            </div>
        </div>

        <div class="stat-card">
            <div class="stat-icon">ğŸŒ¿</div>
            <div class="stat-info">
                <h3>Bem-estar</h3>
                <span class="stat-number" th:text="${totalRegistros ?: '0'}">0</span>
                <span class="stat-label">Registros</span>
            </div>
        </div>

        <div class="stat-card">
            <div class="stat-icon">ğŸ‘¥</div>
            <div class="stat-info">
                <h3>UsuÃ¡rios</h3>
                <span class="stat-number" th:text="${totalUsuarios ?: '0'}">0</span>
                <span class="stat-label">Ativos</span>
            </div>
        </div>
    </div>
</div>

<!-- ===================== AÃ‡Ã•ES RÃPIDAS ===================== -->
<div class="quick-actions">
    <h2>AÃ§Ãµes RÃ¡pidas</h2>
    <div class="actions-grid">
        <a th:href="@{/competencias}" class="action-card">
            <div class="action-icon">ğŸš€</div>
            <h3>CompetÃªncias</h3>
            <p>Gerencie suas habilidades e conhecimentos</p>
        </a>

        <a th:href="@{/recomendacoes}" class="action-card">
            <div class="action-icon">ğŸ’¡</div>
            <h3>RecomendaÃ§Ãµes</h3>
            <p>Veja sugestÃµes personalizadas</p>
        </a>

        <a th:href="@{/bemestar}" class="action-card">
            <div class="action-icon">ğŸŒ¿</div>
            <h3>Bem-estar</h3>
            <p>Registre seu estado diÃ¡rio</p>
        </a>

        <a th:href="@{/recomendacoes/saude}" class="action-card">
            <div class="action-icon">ğŸ¥</div>
            <h3>SaÃºde</h3>
            <p>RecomendaÃ§Ãµes de saÃºde</p>
        </a>

        <a th:href="@{/recomendacoes/profissionais}" class="action-card">
            <div class="action-icon">ğŸ’¼</div>
            <h3>Profissionais</h3>
            <p>Dicas para carreira</p>
        </a>

        <a th:href="@{/usuarios}" class="action-card" sec:authorize="hasRole('ADMIN')">
            <div class="action-icon">ğŸ‘¥</div>
            <h3>UsuÃ¡rios</h3>
            <p>Gerencie usuÃ¡rios do sistema</p>
        </a>
    </div>
</div>

<!-- ===================== RECOMENDAÃ‡Ã•ES RECENTES ===================== -->
<div class="recent-section">
    <div class="section-header">
        <h2>RecomendaÃ§Ãµes Recentes</h2>
        <a th:href="@{/recomendacoes}" class="btn-secondary">Ver Todas</a>
    </div>

    <div class="recommendations-grid">
        <div th:each="rec : ${recomendacoesRecentes}" class="recommendation-card">
            <div class="rec-icon">ğŸ’¡</div>
            <div class="rec-content">
                <h4 th:text="${rec.tituloRecomendacao}">TÃ­tulo</h4>
                <p th:text="${rec.descricaoRecomendacao}">DescriÃ§Ã£o da recomendaÃ§Ã£o...</p>
                <span class="rec-date" th:text="${#dates.format(rec.dataRecomendacao, 'dd/MM/yyyy')}">Data</span>
            </div>
        </div>

        <div th:if="${#lists.isEmpty(recomendacoesRecentes)}" class="empty-state">
            <div class="empty-icon">ğŸ“‹</div>
            <h3>Nenhuma recomendaÃ§Ã£o recente</h3>
            <p>As recomendaÃ§Ãµes aparecerÃ£o aqui quando disponÃ­veis.</p>
        </div>
    </div>
</div>

<!-- ===================== STATUS DE BEM-ESTAR ===================== -->
<div class="wellness-section">
    <div class="section-header">
        <h2>Seu Bem-estar</h2>
        <a th:href="@{/bemestar}" class="btn-secondary">Registrar Hoje</a>
    </div>

    <div class="wellness-cards">
        <div class="wellness-card">
            <div class="wellness-metric">
                <span class="metric-value" th:text="${ultimoRegistro?.nivelEnergia ?: '--'}">--</span>
                <span class="metric-label">Energia</span>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" th:style="'width: ' + ${(ultimoRegistro?.nivelEnergia ?: 0) * 10} + '%;'"></div>
            </div>
        </div>

        <div class="wellness-card">
            <div class="wellness-metric">
                <span class="metric-value" th:text="${ultimoRegistro?.nivelEstresse ?: '--'}">--</span>
                <span class="metric-label">Estresse</span>
            </div>
            <div class="progress-bar">
                <div class="progress-fill stress" th:style="'width: ' + ${(ultimoRegistro?.nivelEstresse ?: 0) * 10} + '%;'"></div>
            </div>
        </div>

        <div class="wellness-card">
            <div class="wellness-metric">
                <span class="metric-value" th:text="${ultimoRegistro?.horasSono ?: '--'}">--</span>
                <span class="metric-label">Horas de Sono</span>
            </div>
            <div class="progress-bar">
                <div class="progress-fill sleep" th:style="'width: ' + ${(ultimoRegistro?.horasSono ?: 0) * 12.5} + '%;'"></div>
            </div>
        </div>
    </div>
</div>
</body>
</html>
